---
title: "Final_projectData621"
author: "Warner Alexis, Saloua Daouki, Souleymane Doumbia, Fomba Kassoh, Lewris Mota Sanchez"
date: "2024-12-17"
output:
  pdf_document:
    toc: true
    toc_depth: '3'
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Abstract:

## Introduction:

## 1. Exploratory Data Analysis (EDA):

### 1.1 Load the necessary libraries:

```{r }
# Load necessary libraries
library(tidyverse)   # For data wrangling and visualization
library(ggplot2)     # For plotting
library(DataExplorer) # For automated EDA
library(corrplot)    # For correlation matrix
library(caret)       # For preprocessing and modeling
```

### 1.2 Load the data:

```{r}
# Read the dataset
depr_data <- read.csv("student depression.csv")

# View the first few rows
head(depr_data)
```


### 1.3 Understand the data structure:


```{r}
# Basic structure of the data
str(depr_data)
```

The dataset consists of 27,901 observations and 18 variables. The dataset contains information on students' mental health and related factors, particularly focusing on depression and various stressors. It comprises several demographic, academic, and behavioral variables. These variables include:

- **ID (int):** Unique identifier for each student.

- **Gender (chr):** The gender of the student (Male/Female).

- **Age (int):** The age of the student in years.

- **City (chr):** The city where the student resides.

- **Profession (chr):** Indicates the student's role (e.g., Student).

- **Academic Pressure (int):** Level of academic pressure experienced (numeric).

- **Work Pressure (int):** Level of work pressure experienced (numeric).

- **CGPA (num):** Cumulative Grade Point Average, representing academic performance.

- **Study Satisfaction (int):** Level of satisfaction with study life (numeric).

- **Job Satisfaction (int):** Level of satisfaction with job (numeric).

- **Sleep Duration (chr):** Average sleep duration (e.g., "5-6 hours").8

- **Dietary Habits (chr):** Quality of diet (e.g., Healthy, Moderate).

- **Degree (chr):** Type of degree the student is pursuing (e.g., B.Pharm, BSc).

- **Suicidal Thoughts (chr):** Indicates whether the student has experienced suicidal thoughts (Yes/No).

- **Work/Study Hours (int):** Average hours spent on work or study (numeric).

- **Financial Stress (int):** Level of financial stress experienced (numeric).

- **Family History of Mental Illness (chr):** Indicates if there is a family history of mental illness (Yes/No).

- **Depression (int):** The target variable indicating whether the student has depression (Yes/No).

```{r}
# Summary statistics of the data
summary(depr_data)
```

The dataset consists of different variables that are related to demographic, academic, and mental health characteristics. The target variable, Depression, is binary, with 58.6% of responses indicating depression (1). Key predictors include Academic Pressure, ranging from 0 to 5 with a mean of 3.14, and Financial Stress, also ranging from 1 to 5 with a mean of 3.14 (three missing values). Study Satisfaction scores range from 0 to 5, with a mean of 2.94, while Work Pressure is mostly absent (mean: 0.0004). CGPA varies between 0 and 10, with a mean of 7.66. Additionally, Sleep Duration and Dietary Habits provide qualitative insights into students' lifestyles, while variables like Age (mean: 25.82) and Family History of Mental Illness ("Yes" or "No") offer further potential predictors for mental health outcomes. These predictors can help in analyzing factors associated with depression in students.

### 1.4 Check for missing values:

```{r}
# Check for missing values
colSums(is.na(depr_data))
```

Based on the output above, the dataset has minimal missing values. Only the Financial Stress variable contains missing values (3 cases); all other variables have complete data. However, visualizing the missing data can make it easier to identify patterns. Here is a plot showing the missing values:


```{r}
# Visualize missing data
plot_missing(depr_data)
```

Since Financial Stress is an ordinal variable (ranging from 1 to 5), we used median imputation the median is a robust measure that minimizes the impact of outliers.

```{r}
# Impute missing values in Financial Stress with the median
depr_data$Financial.Stress[is.na(depr_data$Financial.Stress)] <- median(depr_data$Financial.Stress, na.rm = TRUE)
```


```{r}
# Verify no missing values remain
sum(is.na(depr_data$Financial.Stress))
```

Excellent! The 3 missing values have been addressed. Let's move on to further data cleaning and transformation.

```{r}
# Convert relevant columns to factors
depr_data$Gender <- as.factor(depr_data$Gender)
depr_data$City <- as.factor(depr_data$City)
depr_data$Profession <- as.factor(depr_data$Profession)
depr_data$Degree <- as.factor(depr_data$Degree)
depr_data$Sleep.Duration <- as.factor(depr_data$Sleep.Duration)
depr_data$Dietary.Habits <- as.factor(depr_data$Dietary.Habits)
depr_data$Family.History.of.Mental.Illness <- as.factor(depr_data$Family.History.of.Mental.Illness)
depr_data$Have.you.ever.had.suicidal.thoughts.. <- as.factor(depr_data$Have.you.ever.had.suicidal.thoughts..)
depr_data$Depression <- as.factor(depr_data$Depression)
```


```{r}
# Standardize column names (replace spaces and special characters with underscores)
colnames(depr_data) <- gsub("\\.|\\s+", "_", colnames(depr_data))

# Verify the updated structure
str(depr_data)
```





